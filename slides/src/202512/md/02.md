---
layout: section
---

# Introduction to Conduit

---
level: 2
---

## Conduit: Simplified Data Exchange for HPC Simulations
<br>

- **[Conduit]** is an open source project from Lawrence Livermore National
Laboratory that provides an intuitive model for describing hierarchical
scientific data in C++, C, Fortran, and Python. It is used for data coupling
between packages in-core, serialization, and I/O tasks.

- Conduit provides a convention to describe computational simulation meshes.<br>
    - This is called the **[Mesh Blueprint]**
    - Illustration of Mesh Blueprint **[examples]**

- `Ascent` and `Catalyst` use `Conduit` for describing data and other
parameters which can be communicated between a simulation and the visualization
apps.

[Conduit]: https://llnl-conduit.readthedocs.io/en/latest/index.html
[Mesh Blueprint]: https://llnl-conduit.readthedocs.io/en/latest/blueprint_mesh.html#mesh-blueprint
[examples]: https://llnl-conduit.readthedocs.io/en/latest/blueprint_mesh.html#mesh-blueprint-examples

---
layout: two-cols-header
---

# Conduit: simple and intuitive interface

::left::

- code A:
```python
import conduit

n = conduit.Node()
n["key"] = "data"
print(n)
```

<br><br>
- Code B:
```python
import conduit

n = conduit.Node()
n["key"] = "data"
n["a/b/c"] = "d"
n["a"]["b"]["e"] = 64.0
print(n)
```

::right::

<br>

<Admonition type="info" title="" >
Code A:
```python
key: "data"
```
<br><br><br><br><br>
Code B:
```python
key: "data"
a:
 b:
  c: "d"
  e: 64.0
```
</Admonition>

---
level: 2
---

# Conduit: Data ownership

- The Node class provides two ways to hold data, the data is either:
    - owned or,
    - externally described

```python
vals = numpy.zeros((5,), dtype=numpy.float64)
n = conduit.Node()
n["v_owned"].set(vals)
n["v_external"].set_external(vals)
```

[Documentation](https://llnl-conduit.readthedocs.io/en/latest/tutorial_python_ownership.html#data-ownership)

---
level: 2
---

# Conduit: uniform grid example

<div grid="~ cols-2 gap-4" class="mt-4">

 <div class="col-span-1">
```
coordsets: 
  coords: 
    type: "uniform"
    dims: 
      i: 21
      j: 21
    origin: 
      x: 0.0
      y: 0.0
    spacing: 
      dx: 0.05
      dy: 0.05
topologies: 
  mesh: 
    type: "uniform"
    coordset: "coords"
fields: 
  temperature: 
    association: "vertex"
    topology: "mesh"
    Values: [0.0, 0.156, 0.309, ..., 0.006, 5.29e-18]
```
 </div>

 <div class="col-span-1">
  <div class="w-90">
        <img src="/img/HeatDiffusionUniformGrid.png" border="1px"/>
  </div>
 </div>

</div>
---
level: 2
---

# Conduit: rectilinear grid example

<div grid="~ cols-2 gap-4" class="mt-4">

 <div class="col-span-1">
```
coordsets: 
  coords: 
    type: â€œrectilinear"
    values: 
      x: [0.0, 0.05, 0.1, ..., 0.95, 1.0]
      y: [0.0, 0.05, 0.1, ..., 0.95, 1.0]
topologies: 
  mesh: 
    type: "rectilinear"
    coordset: "coords"
fields: 
  temperature: 
    association: "vertex"
    topology: "mesh"
    values: [0.0, 0.156, 0.309, ..., 0.006, 5.29e-18]
```
 </div>

 <div class="col-span-1">
  <div class="w-90">
        <img src="/img/HeatDiffusionRectilinearGrid.png" border="1px"/>
  </div>
 </div>

</div>
---
level: 2
---

# Conduit: structured grid example

<div grid="~ cols-2 gap-4" class="mt-4">

 <div class="col-span-1">
```
coordsets: 
  coords: 
    type: "explicit"
    values: 
      x: [0.0, 0.05, 0.1, ..., 0.95, 1.0]
      y: [0.0, 0.0, 0.0, ..., 1.0, 1.0]
topologies: 
  mesh: 
    type: "structured"
    coordset: "coords"
     elements: 
      dims: 
        i: 20
        j: 20
fields: 
  temperature: 
    association: "vertex"
    topology: "mesh"
    values: [0.0, 0.149, 0.294, ..., 0.006, 5.29e-18]
```
 </div>

 <div class="col-span-1">
  <div class="w-90">
        <img src="/img/HeatDiffusionStructuredGrid.png" border="1px"/>
  </div>
 </div>

</div>
---
level: 2
---

# Conduit: unstructured grid example
<div grid="~ cols-2 gap-4" class="mt-4">

 <div class="col-span-1">
```
coordsets: 
  coords: 
    type: "explicit"
    values: 
      x: [0.0, 0.05, 0.1, ..., 0.95, 1.0]
      y: [0.0, 0.0, 0.0, ..., 1.0, 1.0]
topologies: 
  mesh: 
    type: "unstructured"
    coordset: "coords"
    elements: 
      shape: "quad"
      connectivity: [0, 21, 22, 1,..., 440, 419]
fields: 
  temperature: 
    association: "vertex"
    topology: "mesh"
    values: [0.0, 0.156, 0.309, ..., 0.006, 5.29e-18]
```
</div>

 <div class="col-span-1">
  <div class="w-90">
        <img src="/img/HeatDiffusionUnstructuredGrid.png" border="1px"/>
  </div>
 </div>

</div>
